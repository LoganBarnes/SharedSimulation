// IoHandler.hpp
#pragma once


namespace shs
{


class World;


/////////////////////////////////////////////
/// \brief The IOHandler class
///
/// \author Logan Barnes
/////////////////////////////////////////////
class IOHandler
{

public:

  ///////////////////////////////////////////////////////////////
  /// \brief Renderer
  ///////////////////////////////////////////////////////////////
  IOHandler(
            World &world,
            bool  printInfo = true
            );


  ///////////////////////////////////////////////////////////////
  /// \brief ~Renderer
  ///////////////////////////////////////////////////////////////
  virtual
  ~IOHandler( );


  ///////////////////////////////////////////////////////////////
  /// \brief showWorld
  /// \param alpha
  ///////////////////////////////////////////////////////////////
  virtual
  void showWorld ( const double alpha = 1.0 );


  ///////////////////////////////////////////////////////////////
  /// \brief updateIO
  ///
  ///        Checks for keystrokes or mouse movement (or
  ///        alternate controllers) and updates output text,
  ///        images, or buffer swaps not handled by showWorld()
  ///
  ///////////////////////////////////////////////////////////////
  virtual
  void updateIO ( );


  ///////////////////////////////////////////////////////////////
  /// \brief updateIO
  ///
  ///        Waits for keystrokes or mouse movement (or
  ///        alternate controllers) and updates output text,
  ///        images, or buffer swaps not handled by showWorld()
  ///
  ///////////////////////////////////////////////////////////////
  virtual
  void waitForIO ( );


  ///////////////////////////////////////////////////////////////
  /// \brief onLoopExit
  ///
  ///        Allows for any synchronization or clean up that
  ///        needs to be completed before destruction
  ///
  ///////////////////////////////////////////////////////////////
  virtual
  void onLoopExit ( );


  ///////////////////////////////////////////////////////////////
  /// \brief isExitRequested
  /// \return true if the user requested to exit the program
  ///////////////////////////////////////////////////////////////
  bool
  isExitRequested( ) { return exitRequested_; }


  ///////////////////////////////////////////////////////////////
  /// \brief setEventBased
  /// \param eventBased - true if IOHandler is being used
  ///                     in an event based driver
  ///////////////////////////////////////////////////////////////
  void
  setEventBased( bool eventBased ) { eventBased_ = eventBased; }


protected:

  World &world_;
  bool exitRequested_;
  bool eventBased_;

};


} // namespace shs
